(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["order"],{1148:function(t,e,c){"use strict";var r=c("a691"),n=c("1d80");t.exports=function(t){var e=String(n(this)),c="",a=r(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(c+=e);return c}},1516:function(t,e,c){},"325f":function(t,e,c){"use strict";c("1516")},"35a9":function(t,e,c){"use strict";c("eec1")},"408a":function(t,e,c){var r=c("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},"4f00":function(t,e,c){},"54d4":function(t,e,c){},"5da4":function(t,e,c){"use strict";c("4f00")},"75c9":function(t,e,c){"use strict";c.d(e,"a",(function(){return a}));c("b680");var r=c("7a23"),n=c("5502"),a=function(t){var e=Object(n["b"])(),c=e.state.cartList,a=function(t,c,r,n){e.commit("changeCartItem",{shopId:t,productId:c,productInfo:r,num:n})},i=Object(r["b"])((function(){var e;console.log(c);var r=(null===(e=c[t])||void 0===e?void 0:e.productList)||{},n={};for(var a in r){var i=r[a];i.count>0&&(n[a]=i)}return n})),o=Object(r["b"])((function(){var e,r=(null===(e=c[t])||void 0===e?void 0:e.shopName)||"";return r})),s=Object(r["b"])((function(){var e,r=null===(e=c[t])||void 0===e?void 0:e.productList,n={total:0,price:0,allChecked:!0};if(r)for(var a in r){var i=r[a];n.total+=i.count,1==i.check&&(n.price+=i.count*i.price),i.check||(n.allChecked=!1)}return n.price=n.price.toFixed(2),n}));return{changeCartItem:a,cartList:c,productList:i,shopName:o,calculations:s}}},b680:function(t,e,c){"use strict";var r=c("23e7"),n=c("a691"),a=c("408a"),i=c("1148"),o=c("d039"),s=1..toFixed,d=Math.floor,u=function(t,e,c){return 0===e?c:e%2===1?u(t,e-1,c*t):u(t*t,e/2,c)},b=function(t){var e=0,c=t;while(c>=4096)e+=12,c/=4096;while(c>=2)e+=1,c/=2;return e},l=function(t,e,c){var r=-1,n=c;while(++r<6)n+=e*t[r],t[r]=n%1e7,n=d(n/1e7)},_=function(t,e){var c=6,r=0;while(--c>=0)r+=t[c],t[c]=d(r/e),r=r%e*1e7},v=function(t){var e=6,c="";while(--e>=0)if(""!==c||0===e||0!==t[e]){var r=String(t[e]);c=""===c?r:c+i.call("0",7-r.length)+r}return c},p=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){s.call({})}));r({target:"Number",proto:!0,forced:p},{toFixed:function(t){var e,c,r,o,s=a(this),d=n(t),p=[0,0,0,0,0,0],f="",O="0";if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(f="-",s=-s),s>1e-21)if(e=b(s*u(2,69,1))-69,c=e<0?s*u(2,-e,1):s/u(2,e,1),c*=4503599627370496,e=52-e,e>0){l(p,0,c),r=d;while(r>=7)l(p,1e7,0),r-=7;l(p,u(10,r,1),0),r=e-1;while(r>=23)_(p,1<<23),r-=23;_(p,1<<r),l(p,1,1),_(p,2),O=v(p)}else l(p,0,c),l(p,1<<-e,0),O=v(p)+i.call("0",d);return d>0?(o=O.length,O=f+(o<=d?"0."+i.call("0",d-o)+O:O.slice(0,o-d)+"."+O.slice(o-d))):O=f+O,O}})},b9c5:function(t,e,c){"use strict";c("54d4")},eec1:function(t,e,c){},f86d:function(t,e,c){"use strict";c.r(e);var r=c("7a23"),n=Object(r["J"])("data-v-2e7c76cf");Object(r["t"])("data-v-2e7c76cf");var a={class:"wrapper"};Object(r["r"])();var i=n((function(t,e,c,n,i,o){var s=Object(r["x"])("TopArea"),d=Object(r["x"])("ProductList"),u=Object(r["x"])("OrderComfirm");return Object(r["q"])(),Object(r["d"])("div",a,[Object(r["h"])(s),Object(r["h"])(d),Object(r["h"])(u)])})),o=Object(r["J"])("data-v-19b52692");Object(r["t"])("data-v-19b52692");var s={class:"top"},d={class:"top__header"},u=Object(r["g"])(" 确认订单 "),b=Object(r["f"])('<div class="top__receiver" data-v-19b52692><div class="top__receiver__title" data-v-19b52692>收货地址</div><div class="top__receiver__address" data-v-19b52692>北京理工大学国防科技园2号楼10层</div><div class="top__receiver__info" data-v-19b52692><span class="top__receiver__info__name" data-v-19b52692>刘先生</span><span class="top__receiver__info__name" data-v-19b52692>11111111111</span></div><div class="iconfont top__receiver__icon" data-v-19b52692></div></div>',1);Object(r["r"])();var l=o((function(t,e,c,n,a,i){return Object(r["q"])(),Object(r["d"])("div",s,[Object(r["h"])("div",d,[Object(r["h"])("div",{class:"iconfont top__header__back",onClick:e[1]||(e[1]=function(){return n.handleBack&&n.handleBack.apply(n,arguments)})},""),u]),b])})),_=c("6c02"),v={name:"TopArea",setup:function(){var t=Object(_["d"])(),e=function(){t.back()};return{handleBack:e}}},p=(c("325f"),c("d959")),f=c.n(p);const O=f()(v,[["render",l],["__scopeId","data-v-19b52692"]]);var j=O,h=(c("b0c0"),c("b680"),Object(r["J"])("data-v-559cb162"));Object(r["t"])("data-v-559cb162");var m={class:"product"},k={class:"product__title"},w={class:"product__wrapper"},g={class:"product__list"},C={class:"product__item__detail"},x={class:"product__item__title"},I={class:"product__item__price"},L=Object(r["h"])("span",{class:"product__item__yen"},"¥ ",-1),N={class:"product__item__total"},y=Object(r["h"])("span",{class:"product__item__yen"},"¥ ",-1);Object(r["r"])();var F=h((function(t,e,c,n,a,i){return Object(r["q"])(),Object(r["d"])("div",m,[Object(r["h"])("div",k,Object(r["z"])(n.shopName),1),Object(r["h"])("div",w,[Object(r["h"])("div",g,[(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(n.productList,(function(t){return Object(r["q"])(),Object(r["d"])("div",{class:"product__item",key:t._id},[Object(r["h"])("img",{class:"product__item__img",src:t.imgUrl},null,8,["src"]),Object(r["h"])("div",C,[Object(r["h"])("h4",x,Object(r["z"])(t.name),1),Object(r["h"])("p",I,[Object(r["h"])("span",null,[L,Object(r["g"])(" "+Object(r["z"])(t.price)+" x "+Object(r["z"])(t.count),1)]),Object(r["h"])("span",N,[y,Object(r["g"])(" "+Object(r["z"])((t.price*t.count).toFixed(2)),1)])])])])})),128))])])])})),q=c("75c9"),z={name:"ProductList",setup:function(){var t=Object(_["c"])(),e=t.params.id,c=Object(q["a"])(e),r=c.productList,n=c.shopName;return{productList:r,shopName:n}}};c("5da4");const J=f()(z,[["render",F],["__scopeId","data-v-559cb162"]]);var S=J,P=Object(r["J"])("data-v-e270ab0a");Object(r["t"])("data-v-e270ab0a");var R={class:"order"},T={class:"order__price"},A=Object(r["g"])(" 实付金额 "),B=Object(r["h"])("h3",{class:"mask__content__title"},"确认要离开收银台？",-1),E=Object(r["h"])("p",{class:"mask__content__desc"},"请尽快完成支付，否则将被取消",-1),D={class:"mask__content__btns"};Object(r["r"])();var H=P((function(t,e,c,n,a,i){return Object(r["q"])(),Object(r["d"])(r["a"],null,[Object(r["h"])("div",R,[Object(r["h"])("div",T,[A,Object(r["h"])("b",null,"¥"+Object(r["z"])(n.calculations.price),1)]),Object(r["h"])("div",{class:"order__btn",onClick:e[1]||(e[1]=function(t){return n.handleSubmit(!0)})},"提交订单")]),Object(r["H"])(Object(r["h"])("div",{class:"mask",onClick:e[5]||(e[5]=function(t){return n.handleSubmit(!1)})},[Object(r["h"])("div",{class:"mask__content",onClick:e[4]||(e[4]=Object(r["I"])((function(){}),["stop"]))},[B,E,Object(r["h"])("div",D,[Object(r["h"])("div",{class:"mask__content__btn mask__content__btn--first",onClick:e[2]||(e[2]=function(t){return n.handleConfirmOrder(!0)})}," 取消订单 "),Object(r["h"])("div",{class:"mask__content__btn mask__content__btn--last",onClick:e[3]||(e[3]=function(t){return n.handleConfirmOrder(!1)})}," 确认支付 ")])])],512),[[r["D"],n.showConfirm]])],64)}));function M(t,e,c){return e in t?Object.defineProperty(t,e,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[e]=c,t}var U=c("1da1"),W=(c("96cf"),c("5502")),G=c("b775"),K={name:"OrderComfirm",setup:function(){var t,e=Object(_["c"])(),c=Object(_["d"])(),n=Object(W["b"])(),a=Object(r["v"])(!1),i=parseInt(e.params.id,10),o=Object(q["a"])(i),s=o.calculations,d=o.shopName,u=o.productList,b=function(t){a.value=t},l=function(){var t=Object(U["a"])(regeneratorRuntime.mark((function t(e){var r,a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a in r=[],u.value)o=u.value[a],r.push({id:parseInt(o._id,10),num:o.count});return t.prev=2,t.next=5,Object(G["b"])("/api/order",{addressId:1,shopId:i,shopName:d.value,isCanceled:e,products:r});case 5:s=t.sent,0===(null===s||void 0===s?void 0:s.errno)&&(n.commit("clearCartProduct",{shopId:i}),c.push({name:"OrderList"})),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](2);case 11:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}();return t={showConfirm:a,calculations:s,handleConfirmOrder:l},M(t,"showConfirm",a),M(t,"handleSubmit",b),t}};c("b9c5");const Q=f()(K,[["render",H],["__scopeId","data-v-e270ab0a"]]);var V=Q,X={name:"Order",components:{TopArea:j,ProductList:S,OrderComfirm:V}};c("35a9");const Y=f()(X,[["render",i],["__scopeId","data-v-2e7c76cf"]]);e["default"]=Y}}]);
//# sourceMappingURL=order.8c279f93.js.map